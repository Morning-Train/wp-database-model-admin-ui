# Morningtrain\WP\DatabaseModelAdminUi

Autogenerated Wordpress Admin Tables, for Eloquent Models.


## Table of Contents

- [Introduction](#introduction)
- [Getting Started](#getting-started)
  - [Installation](#installation)
- [Dependencies](#dependencies)
- [Usage](#usage)
- [Credits](#credits)
- [License](#license)


## Introduction


## Getting Started

To get started install the package as described below in [Installation](#installation).

To use the tool have a look at [Usage](#usage)


### Installation

Install with composer

```bash
composer require morningtrain/wp-database-model-admin-ui
```


## Dependencies

- [morningtrain/php-loader](https://packagist.org/packages/morningtrain/php-loader)
- [morningtrain/wp-database](https://packagist.org/packages/morningtrain/wp-database)
- [morningtrain/wp-hooks](https://packagist.org/packages/morningtrain/wp-hooks)
- [morningtrain/wp-view](https://packagist.org/packages/morningtrain/wp-view)



## Usage

### Initializing package

Initialize `\Morningtrain\WP\DatabaseModelAdminUi\DatabaseModelAdminUi` with the folder, where all the Eloquent Models is located.

```php
\Morningtrain\WP\DatabaseModelAdminUi\ModelUI::setup(__DIR__ . "/app/Models");
```

### Use for an Eloquent Model

When an Admin Table need to be show, on an Eloquent Model, this need to be register in.  
To do this, the code need to be run before hook **wp_loaded** on priority **11**.  
To start of, use `\Morningtrain\WP\DatabaseModelAdminUi\ModelUI::modelPage()` method and give it a slug and an Eloquent Model class.

When this is done, we need to register it. This is done by:
```php
\Morningtrain\WP\DatabaseModelAdminUi\ModelUI::modelPage('car', Car::class)
    ->register();
```

This is all there is to get started with an Admin Table overview.  
There is some options, to customize the Admin Table:

#### Options

##### _Page Title_  
Sets the value to the page title, for the Admin Table.  
Default: `Admin Table`

```php
->withPageTitle('Cars')
```

##### _Menu Title_
Sets the value to the menu title, for the Admin Table.  
Default: `Admin Table`

```php
->withMenuTitle('Cars')
```

##### _Capability_
Sets the value, that the user needs, for viewing the Admin Table.  
Default: `manage_options`

```php
->withCapability('read')
```

##### _Icon Url_
Sets the value for the Admin Table admin menu icon.  
Default: **_empty value_**

```php
->withIconUrl('dashicons-admin-home')
```

##### _Position_
Sets the value for the Admin Table admin menu position.  
Default: `null`

```php
->withIconUrl('dashicons-admin-home')
```

##### _Search button text_
Sets the value for the Admin Table search button text.  
Default: `__('Search')`

```php
->withSearchButtonText('Go')
```

##### _Columns_
Sets the value as columns, for the Admin Table.  
Default: `[]`

This one is created from the ModelPageColumn object.  
It requires a slug.  
On top of that, there is some options.

```php
->withColumns([
    \Morningtrain\WP\DatabaseModelAdminUi\ModelUI::modelPageColumn('name')
        ->withTitle('Name') // Sets the value to the column title
        ->withRender(callback|string) // Custom render, in each table row, for the specific column
        ->makeSearchable() // Make so there can be search for this column value
        ->makeSortable() // Make so there can be sorted for this column value
])
```

##### _Row Actions_
Sets the value as row actions, for the Admin Table.  
Default: `[]`

This one is created from the ModelPageRowAction object.  
It requires a slug and a render callback.

```php
->withRowActions([
    \Morningtrain\WP\DatabaseModelAdminUi\ModelUI::modelPageRowAction('edit', callback|string)
])
```

##### _ACF Editable_
Add a ACF edit page.  
Default: `false`

If this is set, there will be check if there is a row action with the slug `edit`. If this isn't present, it will add a default.  
To make this work, there is needed

```php
->makeAcfEditable()
```

##### _Removable_
Add a removable option.  
Default: `false`

If this is set, there will be check if there is a row action with the slug `delete`. If this isn't present, it will add a default.

```php
->makeRemovable()
```


## Contributing

Thank you for your interest in contributing to the project.


### Bug Report

If you found a bug, we encourage you to make a pull request.

To add a bug report, create a new issue. Please remember to add a telling title, detailed description and how to reproduce the problem. 


### Support Questions

We do not provide support for this package.


### Pull Requests

1. Fork the Project
2. Create your Feature Branch (git checkout -b feature/AmazingFeature)
3. Commit your Changes (git commit -m 'Add some AmazingFeature')
4. Push to the Branch (git push origin feature/AmazingFeature)
5. Open a Pull Request


## Credits

- [Mathias BÃ¦rentsen](https://github.com/matbaek)
- [All Contributors](../../contributors)


## License

The MIT License (MIT). Please see [License File](LICENSE) for more information.


---

<div align="center">
Developed by <br>
</div>
<br>
<div align="center">
<a href="https://morningtrain.dk" target="_blank">
<img src="https://morningtrain.dk/wp-content/themes/mtt-wordpress-theme/assets/img/logo-only-text.svg" width="200" alt="Morningtrain logo">
</a>
</div>
